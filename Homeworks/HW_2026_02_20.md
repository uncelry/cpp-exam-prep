Домашнее задание по темам:

1. Конструкторы
2. Делегирующие конструкторы
3. Список инициализации (initializer list)
4. enum и enum class
5. union
6. struct, конструкторы и деструкторы

Выполнить все 6 задач. В каждой задаче требуется:

* написать корректный код
* кратко объяснить, почему решение работает именно так
* указать, какие конструкторы вызываются и в каком порядке (где применимо)

---

Задача 1. Типы конструкторов

Создайте класс Resource, который хранит динамический массив int.

Требования:

* Реализовать:

  * конструктор по умолчанию
  * конструктор с параметром (размер массива)
  * конструктор копирования
  * конструктор перемещения
  * деструктор
* Добавить вывод в каждом конструкторе и деструкторе, чтобы было видно, какой именно вызывается.
* В функции main создать несколько объектов и продемонстрировать:

  * копирование
  * перемещение (через std::move)

Объяснить, в каких случаях вызывается copy, а в каких move.

---

Задача 2. Делегирующие конструкторы

Создайте класс Person с полями:

* std::string name
* int age
* std::string city

Требования:

* Реализовать один "главный" конструктор с тремя параметрами.
* Реализовать два дополнительных конструктора:

  * только name (остальные значения по умолчанию)
  * без параметров
* Использовать делегирование.
* Добавить вывод, чтобы показать порядок вызова.

Объяснить:

* Как строится цепочка вызовов?
* Сколько реально конструкторов выполняется?

---

Задача 3. Initializer list и порядок инициализации

Создайте класс Example:

* Поле int a;
* Поле int b;

Напишите конструктор так, чтобы:

* В initializer list сначала указывался b, затем a.
* При этом a должен инициализироваться значением b.

Проанализируйте:

* В каком порядке реально инициализируются поля?
* Почему это может привести к ошибке?
* Исправьте код правильно.

Дополнительно:
Добавьте const int c и int& ref и покажите, как их правильно инициализировать.

---

Задача 4. enum и enum class

1. Создайте обычный enum Status с тремя значениями.
2. Создайте enum class ErrorCode с тремя значениями.

Продемонстрируйте:

* Неявное преобразование обычного enum к int.
* Невозможность неявного преобразования enum class.
* Приведение enum class к int через static_cast.

Дополнительно:
Создайте enum class Permissions, где значения являются степенями двойки.
Реализуйте:

* установку флага
* снятие флага
* проверку флага

Использовать побитовые операции.

---

Задача 5. union

Создайте структуру Variant:

* enum Type { INT, DOUBLE }
* union, содержащий:

  * int i;
  * double d;

Требования:

* Реализовать методы setInt и setDouble.
* Реализовать метод print, который выводит активное значение.
* Продемонстрировать, что произойдет при попытке прочитать неактивный член (объяснить теоретически, UB не нужно специально вызывать).

Дополнительно:
Объяснить:

* Почему размер union равен размеру самого большого члена?
* Что такое активный член?

---

Задача 6. struct, конструкторы и деструкторы

Создайте struct Logger, который:

* В конструкторе выводит сообщение о создании объекта.
* В деструкторе выводит сообщение об уничтожении объекта.

Создайте функцию:

void test()

Внутри:

* Создать локальный объект Logger.
* Создать динамический объект Logger через new.
* Освободить динамический объект.

В main вызвать test().

Объяснить:

* В каком порядке вызываются конструкторы и деструкторы?
* Когда уничтожается локальный объект?
* Когда уничтожается динамический?

---

Важно:

Во всех задачах обратить внимание на:

* порядок вызова конструкторов
* порядок инициализации полей
* различие между инициализацией и присваиванием
* где возникает Undefined Behavior и почему

Решения прислать с комментариями к коду.
