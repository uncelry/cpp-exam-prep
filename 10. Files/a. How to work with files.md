
## üîπ How to work with files in C++ (ifstream, ofstream, fstream)

### üî∏ –ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–º—ã

**–†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –≤ C++ (ifstream, ofstream, fstream)**

---

## 1Ô∏è‚É£ –û–±—â–∞—è –∏–¥–µ—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏

–í C++ —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ **–ø–æ—Ç–æ–∫–∏** (streams), —Ç–∞–∫ –∂–µ –∫–∞–∫ –≤–≤–æ–¥/–≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å (`cin`, `cout`).

–§–∞–π–ª–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω–æ–º —Ñ–∞–π–ª–µ:

```cpp
#include <fstream>
```

–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:

- **`std::ifstream`** ‚Äî —á—Ç–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞ (input file stream)
    
- **`std::ofstream`** ‚Äî –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª (output file stream)
    
- **`std::fstream`** ‚Äî —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å
    

---

## 2Ô∏è‚É£ std::ofstream ‚Äî –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª

### üîπ –û—Ç–∫—Ä—ã—Ç–∏–µ –∏ –∑–∞–ø–∏—Å—å

```cpp
#include <fstream>
#include <iostream>

int main() {
    std::ofstream out("data.txt");

    if (!out.is_open()) {
        std::cout << "–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª\n";
        return 1;
    }

    out << "Hello, C++!\n";
    out << 123 << " " << 3.14 << std::endl;

    out.close(); // –∑–∞–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞
}
```

### üîπ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

- –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ **–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** ‚Äî –æ–Ω –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω
    
- –ï—Å–ª–∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî **–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è**
    
- `<<` —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ, –∫–∞–∫ —Å `cout`
    

---

## 3Ô∏è‚É£ std::ifstream ‚Äî —á—Ç–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞

### üîπ –ü—Ä–∏–º–µ—Ä —á—Ç–µ–Ω–∏—è

```cpp
#include <fstream>
#include <iostream>

int main() {
    std::ifstream in("data.txt");

    if (!in) {
        std::cout << "–§–∞–π–ª –Ω–µ –æ—Ç–∫—Ä—ã—Ç\n";
        return 1;
    }

    std::string text;
    int number;
    double value;

    in >> text >> number >> value;

    std::cout << text << " " << number << " " << value << std::endl;

    in.close();
}
```

### üîπ –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

- –û–ø–µ—Ä–∞—Ç–æ—Ä `>>` —á–∏—Ç–∞–µ—Ç **–¥–æ –ø—Ä–æ–±–µ–ª–∞**
    
- –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª–µ –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–∏–ø–∞–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
    
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::getline()` –¥–ª—è —á—Ç–µ–Ω–∏—è —Å—Ç—Ä–æ–∫ —Ü–µ–ª–∏–∫–æ–º
    

---

## 4Ô∏è‚É£ –ß—Ç–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫: std::getline

```cpp
#include <fstream>
#include <string>
#include <iostream>

int main() {
    std::ifstream in("data.txt");
    std::string line;

    while (std::getline(in, line)) {
        std::cout << line << std::endl;
    }
}
```

---

## 5Ô∏è‚É£ std::fstream ‚Äî —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å

```cpp
#include <fstream>
#include <iostream>

int main() {
    std::fstream file("data.txt", std::ios::in | std::ios::out);

    if (!file) {
        std::cout << "–û—à–∏–±–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–∞\n";
        return 1;
    }

    file << "–î–æ–±–∞–≤–∏–ª–∏ —Å—Ç—Ä–æ–∫—É\n";

    file.seekg(0); // –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞ —á—Ç–µ–Ω–∏—è –≤ –Ω–∞—á–∞–ª–æ

    std::string line;
    while (std::getline(file, line)) {
        std::cout << line << std::endl;
    }

    file.close();
}
```

---

## 6Ô∏è‚É£ –†–µ–∂–∏–º—ã –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤ (file open modes)

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ–ª–∞–≥–∏ –∏–∑ `std::ios`:

|–§–ª–∞–≥|–û–ø–∏—Å–∞–Ω–∏–µ|
|---|---|
|`std::ios::in`|–æ—Ç–∫—Ä—ã—Ç—å –¥–ª—è —á—Ç–µ–Ω–∏—è|
|`std::ios::out`|–æ—Ç–∫—Ä—ã—Ç—å –¥–ª—è –∑–∞–ø–∏—Å–∏|
|`std::ios::app`|–¥–æ–∑–∞–ø–∏—Å—å –≤ –∫–æ–Ω–µ—Ü|
|`std::ios::trunc`|–æ—á–∏—Å—Ç–∏—Ç—å —Ñ–∞–π–ª|
|`std::ios::binary`|–±–∏–Ω–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º|
|`std::ios::ate`|–æ—Ç–∫—Ä—ã—Ç—å –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ–Ω–µ—Ü|

–ü—Ä–∏–º–µ—Ä:

```cpp
std::ofstream out("log.txt", std::ios::app);
```

---

## 7Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ñ–∞–π–ª–∞–º–∏

–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

```cpp
file.is_open(); // —Ñ–∞–π–ª –æ—Ç–∫—Ä—ã—Ç
file.good();    // –ø–æ—Ç–æ–∫ –≤ –ø–æ—Ä—è–¥–∫–µ
file.fail();    // –æ—à–∏–±–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏
file.eof();     // –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞
```

–ü—Ä–∏–º–µ—Ä:

```cpp
if (in.fail()) {
    std::cout << "–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è\n";
}
```

---

## 8Ô∏è‚É£ –ë–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã (–∫—Ä–∞—Ç–∫–æ)

```cpp
struct Data {
    int a;
    double b;
};

Data d{10, 3.14};

std::ofstream out("bin.dat", std::ios::binary);
out.write(reinterpret_cast<char*>(&d), sizeof(d));
out.close();
```

–ß—Ç–µ–Ω–∏–µ:

```cpp
std::ifstream in("bin.dat", std::ios::binary);
Data d;
in.read(reinterpret_cast<char*>(&d), sizeof(d));
```

---

## 9Ô∏è‚É£ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞ (RAII)

–§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–∞:

```cpp
{
    std::ofstream out("file.txt");
    out << "Hello";
} // —Ñ–∞–π–ª –∑–∞–∫—Ä—ã—Ç –∑–¥–µ—Å—å
```

---

## üîü –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

- –ó–∞–±—ã–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –æ—Ç–∫—Ä—ã–ª—Å—è –ª–∏ —Ñ–∞–π–ª
    
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç `eof()` –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–ø—Ä–æ–≤–µ—Ä—è—é—Ç –¥–æ —á—Ç–µ–Ω–∏—è)
    
- –°–º–µ—à–∏–≤–∞—é—Ç `>>` –∏ `getline()` –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏ `'\n'`
    
- –ó–∞–±—ã–≤–∞—é—Ç –∑–∞–∫—Ä—ã—Ç—å —Ñ–∞–π–ª (–∏–ª–∏ –Ω–µ –ø–æ–Ω–∏–º–∞—é—Ç RAII)
    

---

## ‚úÖ –ò—Ç–æ–≥ –¥–ª—è —ç–∫–∑–∞–º–µ–Ω–∞

- `ifstream` ‚Äî —á—Ç–µ–Ω–∏–µ
    
- `ofstream` ‚Äî –∑–∞–ø–∏—Å—å
    
- `fstream` ‚Äî —á—Ç–µ–Ω–∏–µ + –∑–∞–ø–∏—Å—å
    
- –†–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã `<<`, `>>`, `getline`
    
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞
    
- –§–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞
    