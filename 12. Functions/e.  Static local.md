–†–∞–∑–±–∏—Ä–∞–µ–º —Ç–µ–º—É –ø–æ–¥—Ä–æ–±–Ω–æ, –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —ç–∫–∑–∞–º–µ–Ω—É.

---

## üîπ Static local variables within functions. Peculiarities

### üî∏ –ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–º—ã

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–π. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**

---

## 1Ô∏è‚É£ –ß—Ç–æ —Ç–∞–∫–æ–µ static –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è** ‚Äî —ç—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∫–æ—Ç–æ—Ä–∞—è:

- –æ–±—ä—è–≤–ª–µ–Ω–∞ **–≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏**
    
- –∏–º–µ–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä `static`
    
- **—Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑** –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã
    
- **—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–≤–æ—ë –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏**
    
- –∏–º–µ–µ—Ç **–ª–æ–∫–∞–ª—å–Ω—É—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏**, –Ω–æ **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏**
    

–ü—Ä–∏–º–µ—Ä:

```cpp
void counter() {
    static int count = 0;
    ++count;
    std::cout << count << std::endl;
}
```

---

## 2Ô∏è‚É£ –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö

```cpp
counter(); // 1
counter(); // 2
counter(); // 3
```

–ü–æ—á–µ–º—É:

- `count` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è **–æ–¥–∏–Ω —Ä–∞–∑**
    
- –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    

---

## 3Ô∏è‚É£ –û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ vs –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏

|–°–≤–æ–π—Å—Ç–≤–æ|–û–±—ã—á–Ω–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è|static –ª–æ–∫–∞–ª—å–Ω–∞—è|
|---|---|---|
|–û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏|–≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏|–≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏|
|–í—Ä–µ–º—è –∂–∏–∑–Ω–∏|–≤—Ö–æ–¥‚Äì–≤—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏|–≤—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–∞|
|–•—Ä–∞–Ω–µ–Ω–∏–µ|—Å—Ç–µ–∫|—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–º—è—Ç—å|

---

## 4Ô∏è‚É£ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è static –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### üîπ –ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

- **–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏** —Å—Ç—Ä–æ–∫–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
    
- –ù–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö)
    

```cpp
void f() {
    static int x = init();
}
```

`init()` –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ **–æ–¥–∏–Ω —Ä–∞–∑**.

---

### üîπ –ì–∞—Ä–∞–Ω—Ç–∏–∏ C++11+

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è **–ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞**
    
- –ù–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –¥–≤–∞–∂–¥—ã
    

---

## 5Ô∏è‚É£ –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```cpp
void f() {
    static int x;
}
```

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è **–Ω—É–ª—ë–º**
    
- –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω—ã—Ö –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
    

---

## 6Ô∏è‚É£ –í–æ–∑–≤—Ä–∞—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ static –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

### üîπ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω

```cpp
int& getValue() {
    static int x = 10;
    return x;
}
```

- –û–±—ä–µ–∫—Ç –∂–∏–≤—ë—Ç –≤—Å—é –ø—Ä–æ–≥—Ä–∞–º–º—É
    
- –ù–µ—Ç dangling reference
    

---

## 7Ô∏è‚É£ –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

1. **–°—á—ë—Ç—á–∏–∫–∏ –≤—ã–∑–æ–≤–æ–≤**
    
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
    
3. **Lazy initialization**
    
4. **Singleton-–ø–æ–¥–æ–±–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã**
    

```cpp
Logger& logger() {
    static Logger instance;
    return instance;
}
```

---

## 8Ô∏è‚É£ –û—Ç–ª–∏—á–∏–µ –æ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

|static –ª–æ–∫–∞–ª—å–Ω–∞—è|–≥–ª–æ–±–∞–ª—å–Ω–∞—è|
|---|---|
|–í–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ —Ñ—É–Ω–∫—Ü–∏–∏|–í–∏–¥–Ω–∞ –≤ —Ñ–∞–π–ª–µ / –ø—Ä–æ–≥—Ä–∞–º–º–µ|
|–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ|–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã|
|–ú–µ–Ω—å—à–µ —Ä–∏—Å–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤|–í–æ–∑–º–æ–∂–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏–º—ë–Ω|

---

## 9Ô∏è‚É£ –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

1. **–°–∫—Ä—ã—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**
    
    - –§—É–Ω–∫—Ü–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ —á–∏—Å—Ç–æ–π
        
2. **–¢—Ä—É–¥–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**
    
3. **–ü—Ä–æ–±–ª–µ–º—ã –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ (–¥–æ C++11)**
    
4. **–ù–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
    

---

## üîü –ö—Ä–∞—Ç–∫–æ –¥–ª—è —ç–∫–∑–∞–º–µ–Ω–∞

- `static` –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è:
    
    - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑
        
    - –∂–∏–≤—ë—Ç –≤—Å—é –ø—Ä–æ–≥—Ä–∞–º–º—É
        
    - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏
        
- –û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è
    
- –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ
    
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞ (C++11+)
    
- –ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—Å—ã–ª–∫—É
    
