–†–∞–∑–±–∏—Ä–∞–µ–º —Ç–µ–º—É –ø–æ–¥—Ä–æ–±–Ω–æ, –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —ç–∫–∑–∞–º–µ–Ω—É.

---

## üîπ Function definition. Function declarations. The One Definition Rule (ODR)

### üî∏ –ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–º—ã

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π. –û–±—ä—è–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π. –ü—Ä–∞–≤–∏–ª–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (ODR)**

---

## 1Ô∏è‚É£ –§—É–Ω–∫—Ü–∏—è –≤ C++

**–§—É–Ω–∫—Ü–∏—è** ‚Äî —ç—Ç–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –±–ª–æ–∫ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π:

- –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    
- –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
    
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏
    

–ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—Ä–∏–º–µ—Ä:

```cpp
int add(int a, int b) {
    return a + b;
}
```

---

## 2Ô∏è‚É£ –û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (function declaration)

### üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ

**–û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏** —Å–æ–æ–±—â–∞–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É:

- –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏
    
- —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
    
- —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    

‚ùó –¢–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏ **–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**.

–ü—Ä–∏–º–µ—Ä:

```cpp
int add(int a, int b);
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é **–¥–æ –µ—ë –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è**
    
- —Ä–∞–∑–¥–µ–ª—è—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é (–æ–±—ã—á–Ω–æ `.h` –∏ `.cpp`)
    

---

## 3Ô∏è‚É£ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (function definition)

### üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏**:

- —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏
    
- —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ª–æ–≥–∏–∫—É
    
- —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º
    

–ü—Ä–∏–º–µ—Ä:

```cpp
int add(int a, int b) {
    return a + b;
}
```

---

## 4Ô∏è‚É£ –û–±—ä—è–≤–ª–µ–Ω–∏–µ vs –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

|–ö—Ä–∏—Ç–µ—Ä–∏–π|–û–±—ä—è–≤–ª–µ–Ω–∏–µ|–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ|
|---|---|---|
|–°–æ–æ–±—â–∞–µ—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä—É|‚úÖ|‚úÖ|
|–°–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–ª–æ|‚ùå|‚úÖ|
|–ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ|‚úÖ|‚ùå (—Å–º. ODR)|
|–°–æ–∑–¥–∞—ë—Ç –∫–æ–¥|‚ùå|‚úÖ|

---

## 5Ô∏è‚É£ –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –æ–±—ä—è–≤–ª–µ–Ω–∏—è

### üîπ –ü—Ä–∏–º–µ—Ä –±–µ–∑ –æ–±—ä—è–≤–ª–µ–Ω–∏—è ‚Äî –æ—à–∏–±–∫–∞

```cpp
int main() {
    foo(); // –æ—à–∏–±–∫–∞: foo –Ω–µ –æ–±—ä—è–≤–ª–µ–Ω–∞
}

void foo() {}
```

### ‚úÖ –° –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º

```cpp
void foo();

int main() {
    foo();
}

void foo() {}
```

---

## 6Ô∏è‚É£ –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã (.h)

–û–±—ã—á–Ω–æ:

- **–æ–±—ä—è–≤–ª–µ–Ω–∏—è** ‚Äî –≤ `.h`
    
- **–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è** ‚Äî –≤ `.cpp`
    

```cpp
// math.h
int add(int, int);
```

```cpp
// math.cpp
#include "math.h"

int add(int a, int b) {
    return a + b;
}
```

---

## 7Ô∏è‚É£ The One Definition Rule (ODR)

### üîπ –ü–µ—Ä–µ–≤–æ–¥

**–ü—Ä–∞–≤–∏–ª–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è**

---

## 8Ô∏è‚É£ –°—É—Ç—å ODR

–í –ø—Ä–æ–≥—Ä–∞–º–º–µ C++:

1. **–ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∫–ª–∞—Å—Å**
    
    - –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å **—Ä–æ–≤–Ω–æ –æ–¥–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
        
2. –û–±—ä—è–≤–ª–µ–Ω–∏–π –º–æ–∂–µ—Ç –±—ã—Ç—å **—Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ**
    
3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å
    

---

## 9Ô∏è‚É£ –ù–∞—Ä—É—à–µ–Ω–∏—è ODR ‚Äî –ø—Ä–∏–º–µ—Ä—ã

### ‚ùå –î–≤–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏

```cpp
int add(int a, int b) {
    return a + b;
}

int add(int a, int b) {
    return a - b;
}
```

–û—à–∏–±–∫–∞ –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ (linker error).

---

### ‚ùå –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –±–µ–∑ inline

```cpp
// math.h
int add(int a, int b) {
    return a + b;
}
```

–ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å `math.h` –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ `.cpp` —Ñ–∞–π–ª–æ–≤ ‚Üí –Ω–∞—Ä—É—à–µ–Ω–∏–µ ODR.

---

## üîü –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏—è ODR

### üîπ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `inline`

```cpp
inline int add(int a, int b) {
    return a + b;
}
```

### üîπ –ò–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤ `.cpp`

---

## 1Ô∏è‚É£1Ô∏è‚É£ ODR –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

‚ùå –û—à–∏–±–∫–∞:

```cpp
// header.h
int x = 10;
```

–ü—Ä–∞–≤–∏–ª—å–Ω–æ:

```cpp
// header.h
extern int x;
```

```cpp
// source.cpp
int x = 10;
```

---

## 1Ô∏è‚É£2Ô∏è‚É£ ODR –∏ —à–∞–±–ª–æ–Ω—ã

- –®–∞–±–ª–æ–Ω—ã –æ–±—ã—á–Ω–æ **–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö**
    
- –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–æ–∑–¥–∞—ë—Ç –Ω—É–∂–Ω—ã–µ –∏–Ω—Å—Ç–∞–Ω—Ü–∏–∞—Ü–∏–∏
    
- –≠—Ç–æ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç ODR –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è—Ö
    

---

## 1Ô∏è‚É£3Ô∏è‚É£ –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã –¥–ª—è —ç–∫–∑–∞–º–µ–Ω–∞

- `inline` ‚Äî –Ω–µ –ø—Ä–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é, –∞ –ø—Ä–æ **ODR**
    
- ODR –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è **–Ω–∞ —ç—Ç–∞–ø–µ –ª–∏–Ω–∫–æ–≤–∫–∏**
    
- –†–∞–∑–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è ‚Üí –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–ª–∏ linker error
    
- –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤ —Ä–∞–∑–Ω—ã—Ö TU ‚Äî –¥–æ–ø—É—Å—Ç–∏–º—ã –¥–ª—è `inline`, —à–∞–±–ª–æ–Ω–æ–≤, `constexpr`
    

---

## 1Ô∏è‚É£4Ô∏è‚É£ –ö—Ä–∞—Ç–∫–æ –¥–ª—è —ç–∫–∑–∞–º–µ–Ω–∞

- **–û–±—ä—è–≤–ª–µ–Ω–∏–µ** ‚Äî —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –±–µ–∑ —Ç–µ–ª–∞
    
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** ‚Äî —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ + —Ç–µ–ª–æ
    
- –û–±—ä—è–≤–ª–µ–Ω–∏–π –º–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ
    
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ‚Äî —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ
    
- ODR –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã
    
- –ù–∞—Ä—É—à–µ–Ω–∏–µ ODR ‚Üí –æ—à–∏–±–∫–∞ –ª–∏–Ω–∫–æ–≤–∫–∏ –∏–ª–∏ UB
    
