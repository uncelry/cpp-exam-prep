### 1. Структура программы

Программа на C++ состоит из нескольких **основных частей**:

1. **Директивы препроцессора (preprocessor directives)**
2. **Объявления (declarations)**
3. **Определения (definitions)**
4. **Операторы/инструкции (statements/instructions)**
5. **Выражения (expressions)**
6. **Комментарии (comments)**

### 2. Директивы препроцессора

**Препроцессор** — это программа, которая обрабатывает исходный код до его компиляции.

**Директива препроцессора** — это команда для препроцессора, начинающаяся с `#`.

**Примеры:**

```
#include <iostream>   // подключение стандартной библиотеки ввода-вывода 
#define PI 3.14159    // создание макроса
```

**Основные виды директив:**

- `#include` — подключение внешних файлов/библиотек
- `#define` — определение макросов или констант
- `#ifdef`, `#ifndef`, `#endif` — условная компиляция
- `#pragma` — специальные команды для компилятора

**Пример использования:**

```
#include <iostream> 
#define MAX 100  
int main() {     
	int array[MAX]; // массив размера 100     
	std::cout << "Hello, world!" << std::endl;     
	return 0; 
}
```

### 3. Объявления (Declarations)

**Объявление** сообщает компилятору о существовании **переменной, функции или класса**, но не выделяет память или не реализует логику.

Примеры:

```
extern int x;           // объявление внешней переменной 
double calculate(double); // объявление функции 
class Person;           // объявление класса
```


### 4. Определения (Definitions)

**Определение** создаёт **объект или функцию**, выделяет память и (для функции) содержит её тело.

Примеры:

```
int x = 10;             // определение переменной 
double calculate(double a) { 
	return a * 2; 
} // определение функции 
class Person {           // определение класса public:     
	std::string name; 
};
```

### 5. Операторы/инструкции (Statements/Instructions)

**Инструкция** — это отдельная команда, которую выполняет программа.

- Обычно заканчивается **точкой с запятой** `;`

Примеры:

```
int a = 5;              // присваивание 
a++;                     // инкремент 
std::cout << a << std::endl; // вывод
```

### 6. Выражения (Expressions)

**Выражение** — это комбинация переменных, литералов и операторов, которая вычисляется и возвращает значение.

- Пример: `a + b * 2` — выражение, результат которого можно присвоить переменной.
- Каждое выражение может быть частью инструкции.

Пример использования:

```
int sum = (a + b) * 2; // выражение 
(a+b)*2, присвоение sum
```


### 7. Комментарии

**Комментарии** — это текст в коде, который **игнорируется компилятором** и служит для пояснения кода.

- **Цель комментариев:** помочь программисту понять код, описать логику, документировать.

**Виды комментариев:**

1. **Однострочные:** начинаются с `//`

```
int a = 5; // это однострочный комментарий
```

2. **Многострочные:** заключаются между `/*` и `*/`

```
/*   
	Это многострочный комментарий,   
	который может занимать несколько строк 
*/ 
int b = 10;
```

### 1. Что такое компиляция

Компиляция — это процесс **преобразования исходного кода на C++ в исполняемый файл**, который может запускаться на компьютере.  
На высоком уровне процесс состоит из нескольких этапов, которые выполняет **компилятор**.

---

### 8. Основные этапы компиляции

1. **Препроцессинг (Preprocessing)**
    - На этом этапе обрабатываются **директивы препроцессора** (команды, начинающиеся с `#`).
    - Например:
        - `#include <iostream>` → вставляется содержимое библиотеки iostream.
        - `#define PI 3.14` → создаются макросы и константы.
    - Результатом является **текст исходного кода, готовый для компиляции**.
2. **Компиляция (Compilation proper)**
    - Преобразует исходный код C++ в **промежуточный машинный код**, называемый **объектным файлом (.obj или .o)**.
    - На этом этапе проверяется:
        - синтаксис
        - типы данных
        - правильность вызова функций
    - Ошибки на этом этапе называются **синтаксическими или компиляционными**.
3. **Линковка (Linking)**
    - На этом этапе компоновщик (линкер) собирает все объектные файлы и библиотеки в **один исполняемый файл (.exe на Windows или без расширения на Linux)**.
    - Линковка решает такие задачи, как:
        - связывание вызовов функций с их определениями
        - подключение внешних библиотек
    - Ошибки на этом этапе называются **линковочными** (например, если функция объявлена, но не определена).

После всех этапов компиляции получается **готовая программа**, которую можно запускать на компьютере

Исходный код (.cpp)
        |
        v
Препроцессор (#include, # define)
        |
        v
Компилятор (проверка синтаксиса, перевод в объектный код)
        |
        v
Объектные файлы (.obj / .o)
        |
        v
Линкер (соединение с библиотеками)
        |
        v
Исполняемый файл (.exe / без расширения)

**Важные моменты:**
- Препроцессор выполняется **перед компиляцией**.
- Компилятор **не умеет работать без линковки**, если есть функции из других файлов или библиотек.
- Понимание этого процесса помогает:
    - правильно подключать библиотеки
    - понимать ошибки компиляции и линковки
    - оптимизировать структуру проекта

