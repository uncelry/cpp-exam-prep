**–ü—Ä–æ–±–ª–µ–º–∞ –≤–∏—Å—è—á–∏—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π (Dangling Pointer) –∏ —Å–ø–æ—Å–æ–±—ã –µ—ë –∏–∑–±–µ–∂–∞—Ç—å**

---

## 1Ô∏è‚É£ –ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–º—ã

**The dangling pointer problem and ways to avoid it ‚Üí  
–ü—Ä–æ–±–ª–µ–º–∞ –≤–∏—Å—è—á–∏—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –∏ —Å–ø–æ—Å–æ–±—ã –µ—ë –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è**

---

## 2Ô∏è‚É£ –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Å—è—á–∏–π —É–∫–∞–∑–∞—Ç–µ–ª—å (dangling pointer)

**–í–∏—Å—è—á–∏–π —É–∫–∞–∑–∞—Ç–µ–ª—å** ‚Äî —ç—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π **—É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–∞–º—è—Ç—å, —É–∂–µ –æ—Å–≤–æ–±–æ–∂–¥—ë–Ω–Ω—É—é –∏–ª–∏ –≤—ã—à–µ–¥—à—É—é –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏**.

–ü—Ä–æ—â–µ:

> —É–∫–∞–∑–∞—Ç–µ–ª—å –≤—Å—ë –µ—â—ë —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∞ –æ–±—ä–µ–∫—Ç–∞ ‚Äî —É–∂–µ –Ω–µ—Ç.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–∫–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ **–Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é (UB)**.

---

## 3Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø–æ—è–≤–ª–µ–Ω–∏—è dangling pointer

### üîπ 1. –í—ã—Ö–æ–¥ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏

```cpp
int* f() {
    int x = 10;
    return &x; // ‚ùå dangling pointer
}
```

–ü–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ `x` —É–Ω–∏—á—Ç–æ–∂–µ–Ω.

---

### üîπ 2. –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏

```cpp
int* p = new int(5);
delete p;
*p = 10; // ‚ùå dangling pointer
```

---

### üîπ 3. –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```cpp
std::vector<int> v = {1, 2, 3};
int* p = &v[0];

v.push_back(4); // –≤–æ–∑–º–æ–∂–Ω–∞ —Ä–µ–∞–ª–ª–æ–∫–∞—Ü–∏—è
*p = 10;        // ‚ùå dangling pointer
```

---

### üîπ 4. –í–æ–∑–≤—Ä–∞—Ç —Å—Å—ã–ª–∫–∏/—É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç

```cpp
const std::string& s = std::string("hello"); // ‚ùå
```

---

## 4Ô∏è‚É£ –ü–æ—á–µ–º—É dangling pointer –æ–ø–∞—Å–µ–Ω

- –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç **—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**
    
- –æ—à–∏–±–∫–∏ –ø—Ä–æ—è–≤–ª—è—é—Ç—Å—è **–Ω–µ —Å—Ä–∞–∑—É**
    
- —Ç—Ä—É–¥–Ω–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å
    
- –≤–æ–∑–º–æ–∂–Ω—ã **–∫—Ä–∞—à–∏** –∏ **—É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö**
    

---

## 5Ô∏è‚É£ –û—Ç–ª–∏—á–∏–µ –æ—Ç `nullptr`

|–¢–∏–ø|–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç|
|---|---|
|`nullptr`|–Ω–∏ –Ω–∞ —á—Ç–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç|
|dangling pointer|—É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç|

---

## 6Ô∏è‚É£ –°–ø–æ—Å–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å dangling pointers

---

### ‚úÖ 1. –û–±–Ω—É–ª—è–π —É–∫–∞–∑–∞—Ç–µ–ª—å –ø–æ—Å–ª–µ `delete`

```cpp
delete p;
p = nullptr;
```

–¢–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–Ω–æ:

```cpp
if (p) { }
```

---

### ‚úÖ 2. –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞–π —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

‚ùå

```cpp
int* f() {
    int x;
    return &x;
}
```

‚úî

```cpp
int f() {
    int x;
    return x;
}
```

---

### ‚úÖ 3. –ò—Å–ø–æ–ª—å–∑—É–π RAII –∏ —É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏

```cpp
std::unique_ptr<int> p = std::make_unique<int>(5);
```

- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ
    
- –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å `delete`
    

---

### ‚úÖ 4. –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

- –æ–±—ä—è–≤–ª—è–π –±–ª–∏–∂–µ –∫ –º–µ—Å—Ç—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    
- –Ω–µ —Ö—Ä–∞–Ω–∏ ¬´–¥–æ–ª–≥–æ –∂–∏–≤—É—â–∏–µ¬ª —É–∫–∞–∑–∞—Ç–µ–ª–∏
    

---

### ‚úÖ 5. –ë—É–¥—å –æ—Å—Ç–æ—Ä–æ–∂–µ–Ω —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ STL

‚ùå —Ö—Ä–∞–Ω–∏—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã `vector`

‚úî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

- –∏–Ω–¥–µ–∫—Å—ã
    
- –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã (—Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º –∏–Ω–≤–∞–ª–∏–¥–∏–∑–∞—Ü–∏–∏)
    

---

### ‚úÖ 6. –ò—Å–ø–æ–ª—å–∑—É–π —Å—Å—ã–ª–∫–∏, –∫–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ

```cpp
void f(const int& x);
```

–°—Å—ã–ª–∫–∏ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å `nullptr`.

---

## 7Ô∏è‚É£ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è

- AddressSanitizer (`-fsanitize=address`)
    
- Valgrind
    
- —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä
    

---

## 8Ô∏è‚É£ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

‚ùå –¥—É–º–∞—é—Ç, —á—Ç–æ `delete` –æ–±–Ω—É–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å  
‚ùå –ø—É—Ç–∞—é—Ç dangling pointer –∏ `nullptr`  
‚ùå –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∞–¥—Ä–µ—Å –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π  
‚ùå —Ö—Ä–∞–Ω—è—Ç —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã `vector`

---

## 9Ô∏è‚É£ –≠–∫–∑–∞–º–µ–Ω–∞—Ü–∏–æ–Ω–Ω—ã–π –∞–∫—Ü–µ–Ω—Ç

‚úî –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ dangling pointer  
‚úî –ø—Ä–∏–≤–µ—Å—Ç–∏ —Ç–∏–ø–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã  
‚úî –æ–±—ä—è—Å–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è  
‚úî –Ω–∞–∑–≤–∞—Ç—å —Å–ø–æ—Å–æ–±—ã –∑–∞—â–∏—Ç—ã

---

## üîü –ò—Ç–æ–≥

- dangling pointer ‚Üí **–Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**
    
- –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ –æ–±—ä–µ–∫—Ç–æ–≤
    
- –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± –∑–∞—â–∏—Ç—ã ‚Äî **–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏**
    
